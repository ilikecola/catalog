image:
  repository: p3terx/ariang
  tag: latest
  pullPolicy: IfNotPresent
aria2proImage:
  repository: p3terx/aria2-pro
  tag: latest
  pullPolicy: IfNotPresent
securityContext:
  container:
    readOnlyRootFilesystem: false
    runAsNonRoot: false
    runAsUser: 0
    runAsGroup: 0
service:
  main:
    ports:
      main:
        port: 6880
        protocol: http
  rpc:
    enabled: true
    ports:
      rpc:
        enabled: true
        port: 6800
        protocol: http
  listen:
    enabled: true
    ports:
      listen:
        enabled: true
        port: 6888
        protocol: tcp
workload:
  main:
    type: Deployment
    podSpec:
      containers:
        main:
          enabled: true
          primary: true
  aria2pro:
    enabled: true
    type: Deployment
    strategy: RollingUpdate
    replicas: 1
    podSpec:
      containers:
        aria2pro:
          enabled: true
          primary: true
          imageSelector: aria2proImage
          env:
            RPC_PORT: "{{ .Values.service.rpc.ports.rpc.port }}"
            LISTEN_PORT: "{{ .Values.service.listen.ports.listen.port }}"
            DISK_CACHE: 64M
            IPV6_MODE: false
            UPDATE_TRACKERS: true
            CUSTOM_TRACKER_URL: "https://trackerslist.com/all_aria2.txt"
            RPC_SECRET: "ChangemeNow"
          probes:
            liveness:
              type: http
              path: /jsonrpc
              port: "{{ .Values.service.rpc.ports.rpc.port }}"
            readiness:
              type: http
              path: /jsonrpc
              port: "{{ .Values.service.rpc.ports.rpc.port }}"
            startup:
              type: http
              path: /jsonrpc
              port: "{{ .Values.service.rpc.ports.rpc.port }}"
persistence:
  config:
    enabled: true
    mountPath: /config
portal:
  open:
    enabled: false
ariang:
  enabled: true
aria2pro:
  enabled: true
  path: "/jsonrpc"
